{"ast":null,"code":"const link = \"https://rickandmortyapi.com/api/episode\";\nexport const getEpisodes = function () {\n  let noPage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n  return fetch(link + `?page=${noPage}`, {\n    method: \"GET\"\n  }).then(response => {\n    if (!response.ok) {\n      throw new Error(\"\");\n    }\n\n    return response.json();\n  }).then(data => {\n    return [data[\"results\"], data[\"info\"][\"pages\"]];\n  });\n};\nexport const getCharactersPerEpisode = episodeId => {\n  if (!episodeId) {\n    return new Promise((resolve, reject) => {\n      reject(\"Empty episode!\");\n    });\n  }\n\n  return fetch(link + `?episode=${episodeId}`, {\n    method: \"GET\"\n  }).then(response => {\n    return response.json();\n  }).then(data => {\n    return data[\"results\"][0][\"characters\"];\n  });\n};\nexport const getCharacter = link => {\n  return fetch(link, {\n    method: \"GET\"\n  }).then(response => {\n    return response.json();\n  }).then(data => {\n    return data;\n  });\n};","map":{"version":3,"names":["link","getEpisodes","noPage","fetch","method","then","response","ok","Error","json","data","getCharactersPerEpisode","episodeId","Promise","resolve","reject","getCharacter"],"sources":["D:/Curs-Scoala informala de IT/week14_homework_Rick and Morty API-React - useContext/src/lib/httpRequests.js"],"sourcesContent":["const link = \"https://rickandmortyapi.com/api/episode\";\r\n\r\nexport const getEpisodes = (noPage = 1) => {\r\n  return fetch(link + `?page=${noPage}`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      if (!response.ok) {\r\n        throw new Error(\"\");\r\n      }\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      return [data[\"results\"], data[\"info\"][\"pages\"]];\r\n    });\r\n};\r\n\r\nexport const getCharactersPerEpisode = (episodeId) => {\r\n  if (!episodeId) {\r\n    return new Promise((resolve, reject) => {\r\n      reject(\"Empty episode!\");\r\n    });\r\n  }\r\n  return fetch(link + `?episode=${episodeId}`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      return data[\"results\"][0][\"characters\"];\r\n    });\r\n};\r\n\r\nexport const getCharacter = (link) => {\r\n  return fetch(link, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      return data;\r\n    });\r\n};\r\n"],"mappings":"AAAA,MAAMA,IAAI,GAAG,yCAAb;AAEA,OAAO,MAAMC,WAAW,GAAG,YAAgB;EAAA,IAAfC,MAAe,uEAAN,CAAM;EACzC,OAAOC,KAAK,CAACH,IAAI,GAAI,SAAQE,MAAO,EAAxB,EAA2B;IACrCE,MAAM,EAAE;EAD6B,CAA3B,CAAL,CAGJC,IAHI,CAGEC,QAAD,IAAc;IAClB,IAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB;MAChB,MAAM,IAAIC,KAAJ,CAAU,EAAV,CAAN;IACD;;IACD,OAAOF,QAAQ,CAACG,IAAT,EAAP;EACD,CARI,EASJJ,IATI,CASEK,IAAD,IAAU;IACd,OAAO,CAACA,IAAI,CAAC,SAAD,CAAL,EAAkBA,IAAI,CAAC,MAAD,CAAJ,CAAa,OAAb,CAAlB,CAAP;EACD,CAXI,CAAP;AAYD,CAbM;AAeP,OAAO,MAAMC,uBAAuB,GAAIC,SAAD,IAAe;EACpD,IAAI,CAACA,SAAL,EAAgB;IACd,OAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;MACtCA,MAAM,CAAC,gBAAD,CAAN;IACD,CAFM,CAAP;EAGD;;EACD,OAAOZ,KAAK,CAACH,IAAI,GAAI,YAAWY,SAAU,EAA9B,EAAiC;IAC3CR,MAAM,EAAE;EADmC,CAAjC,CAAL,CAGJC,IAHI,CAGEC,QAAD,IAAc;IAClB,OAAOA,QAAQ,CAACG,IAAT,EAAP;EACD,CALI,EAMJJ,IANI,CAMEK,IAAD,IAAU;IACd,OAAOA,IAAI,CAAC,SAAD,CAAJ,CAAgB,CAAhB,EAAmB,YAAnB,CAAP;EACD,CARI,CAAP;AASD,CAfM;AAiBP,OAAO,MAAMM,YAAY,GAAIhB,IAAD,IAAU;EACpC,OAAOG,KAAK,CAACH,IAAD,EAAO;IACjBI,MAAM,EAAE;EADS,CAAP,CAAL,CAGJC,IAHI,CAGEC,QAAD,IAAc;IAClB,OAAOA,QAAQ,CAACG,IAAT,EAAP;EACD,CALI,EAMJJ,IANI,CAMEK,IAAD,IAAU;IACd,OAAOA,IAAP;EACD,CARI,CAAP;AASD,CAVM"},"metadata":{},"sourceType":"module"}