{"ast":null,"code":"const link = \"https://rickandmortyapi.com/api/episod\";\nexport const getEpisodes = function () {\n  let noPage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n  return fetch(link + `?page=${noPage}`, {\n    method: \"GET\"\n  }).then(response => {\n    console.log(\"intra in then\");\n\n    if (!response.ok) {\n      return Promise.reject(new Error(\"Could not get Episodes!\"));\n    }\n\n    return response.json();\n  }).then(data => {\n    return [data[\"results\"], data[\"info\"][\"pages\"]];\n  });\n};\nexport const getCharactersPerEpisode = episodeId => {\n  if (!episodeId) {\n    return;\n  }\n\n  return fetch(link + `?episode=${episodeId}`, {\n    method: \"GET\"\n  }).then(response => {\n    if (!response.ok) {\n      return Promise.reject(new Error(\"Could not get Characters!\"));\n    }\n\n    return response.json();\n  }).then(data => {\n    return data[\"results\"][0][\"characters\"];\n  });\n};\nexport const getCharacter = link => {\n  return fetch(link, {\n    method: \"GET\"\n  }).then(response => {\n    if (!response.ok) {\n      return Promise.reject(new Error(\"Could not get Character!\"));\n    }\n\n    return response.json();\n  }).then(data => {\n    return data;\n  });\n};","map":{"version":3,"names":["link","getEpisodes","noPage","fetch","method","then","response","console","log","ok","Promise","reject","Error","json","data","getCharactersPerEpisode","episodeId","getCharacter"],"sources":["D:/Curs-Scoala informala de IT/week14_homework_Rick and Morty API-React - useContext/src/lib/httpRequests.js"],"sourcesContent":["const link = \"https://rickandmortyapi.com/api/episod\";\r\n\r\nexport const getEpisodes = (noPage = 1) => {\r\n  return fetch(link + `?page=${noPage}`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      console.log(\"intra in then\");\r\n      if (!response.ok) {\r\n        return Promise.reject(new Error(\"Could not get Episodes!\"));\r\n      }\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      return [data[\"results\"], data[\"info\"][\"pages\"]];\r\n    });\r\n};\r\n\r\nexport const getCharactersPerEpisode = (episodeId) => {\r\n  if (!episodeId) {\r\n    return \r\n  }\r\n  return fetch(link + `?episode=${episodeId}`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      if (!response.ok) {\r\n        return Promise.reject(new Error(\"Could not get Characters!\"));\r\n      }\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      return data[\"results\"][0][\"characters\"];\r\n    });\r\n};\r\n\r\nexport const getCharacter = (link) => {\r\n  return fetch(link, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      if (!response.ok) {\r\n        return Promise.reject(new Error(\"Could not get Character!\"));\r\n      }\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      return data;\r\n    });\r\n};\r\n"],"mappings":"AAAA,MAAMA,IAAI,GAAG,wCAAb;AAEA,OAAO,MAAMC,WAAW,GAAG,YAAgB;EAAA,IAAfC,MAAe,uEAAN,CAAM;EACzC,OAAOC,KAAK,CAACH,IAAI,GAAI,SAAQE,MAAO,EAAxB,EAA2B;IACrCE,MAAM,EAAE;EAD6B,CAA3B,CAAL,CAGJC,IAHI,CAGEC,QAAD,IAAc;IAClBC,OAAO,CAACC,GAAR,CAAY,eAAZ;;IACA,IAAI,CAACF,QAAQ,CAACG,EAAd,EAAkB;MAChB,OAAOC,OAAO,CAACC,MAAR,CAAe,IAAIC,KAAJ,CAAU,yBAAV,CAAf,CAAP;IACD;;IACD,OAAON,QAAQ,CAACO,IAAT,EAAP;EACD,CATI,EAUJR,IAVI,CAUES,IAAD,IAAU;IACd,OAAO,CAACA,IAAI,CAAC,SAAD,CAAL,EAAkBA,IAAI,CAAC,MAAD,CAAJ,CAAa,OAAb,CAAlB,CAAP;EACD,CAZI,CAAP;AAaD,CAdM;AAgBP,OAAO,MAAMC,uBAAuB,GAAIC,SAAD,IAAe;EACpD,IAAI,CAACA,SAAL,EAAgB;IACd;EACD;;EACD,OAAOb,KAAK,CAACH,IAAI,GAAI,YAAWgB,SAAU,EAA9B,EAAiC;IAC3CZ,MAAM,EAAE;EADmC,CAAjC,CAAL,CAGJC,IAHI,CAGEC,QAAD,IAAc;IAClB,IAAI,CAACA,QAAQ,CAACG,EAAd,EAAkB;MAChB,OAAOC,OAAO,CAACC,MAAR,CAAe,IAAIC,KAAJ,CAAU,2BAAV,CAAf,CAAP;IACD;;IACD,OAAON,QAAQ,CAACO,IAAT,EAAP;EACD,CARI,EASJR,IATI,CASES,IAAD,IAAU;IACd,OAAOA,IAAI,CAAC,SAAD,CAAJ,CAAgB,CAAhB,EAAmB,YAAnB,CAAP;EACD,CAXI,CAAP;AAYD,CAhBM;AAkBP,OAAO,MAAMG,YAAY,GAAIjB,IAAD,IAAU;EACpC,OAAOG,KAAK,CAACH,IAAD,EAAO;IACjBI,MAAM,EAAE;EADS,CAAP,CAAL,CAGJC,IAHI,CAGEC,QAAD,IAAc;IAClB,IAAI,CAACA,QAAQ,CAACG,EAAd,EAAkB;MAChB,OAAOC,OAAO,CAACC,MAAR,CAAe,IAAIC,KAAJ,CAAU,0BAAV,CAAf,CAAP;IACD;;IACD,OAAON,QAAQ,CAACO,IAAT,EAAP;EACD,CARI,EASJR,IATI,CASES,IAAD,IAAU;IACd,OAAOA,IAAP;EACD,CAXI,CAAP;AAYD,CAbM"},"metadata":{},"sourceType":"module"}